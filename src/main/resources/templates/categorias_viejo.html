<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <!-- ===== BOX ICONS ===== -->
      <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

      <!-- ===== CSS ===== -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"> -->
      <!-- <link rel="stylesheet" href="assets/css/bootstrap.min.css"> -->
      <link rel="stylesheet" href="../static/css/styles.css">

      <title>Gestor Gastos | Categorías</title>
  </head>

  <body id="body">
  <!---------------- SVG ICONS -------------------> 
    <svg style="display: none;">
      <defs>
      <!-- TopArrow -->
      <symbol id="topArrow-icon" viewBox="0 0 15 15">
        <path d="M8.2 15V3.2C9 4.4 10.8 6 12.2 7c.4 0 .9-.5.9-1a33.1 33.1 0 01-5.6-6C6.1 2 3.7 4.4 1.9 6c0 .5.3 1 .9 1C4 6 6 4.5 6.8 3.3V15z"/>
      </symbol>
      <!-- delete icon -->
      <symbol id="delete-icon" viewBox="0 0 24.5 24">
        <path d="M7.84 2.955C6.76 3.818.248 11.342.248 11.342a1 1 0 000 1.316l7 8A1 1 0 008 21h13c1.645 0 3-1.355 3-3V6c0-1.645-1.355-2.994-3-3 0 0-13.048-.135-13.16-.045zM8.453 5H21c.564 0 1 .436 1 1v12c0 .564-.436 1-1 1H8.453l-6.125-7zm9.537 2.986a1 1 0 00-.697.307L15 10.586l-2.293-2.293a1 1 0 00-.717-.303c-.897 0-1.34 1.091-.697 1.717L13.586 12l-2.293 2.293c-.982.942.472 2.396 1.414 1.414L15 13.414l2.293 2.293c.942.982 2.396-.472 1.414-1.414L16.414 12l2.293-2.293c.657-.632.195-1.742-.717-1.72z"/>
      </symbol> 
      <!-- edit icon -->
      <symbol id="edit-icon" viewBox="0 0 24 24">
        <path d="M12 19a1 1 0 100 2h9a1 1 0 100-2zM18.15 1.85a3.1 3.1 0 00-2.36.94L3.16 15.53c-.13.12-1.13 4.23-1.13 4.23a1 1 0 001.21 1.21l4.23-1.13C7.65 19.79 20.21 7.2 20.21 7.2c.67-.68 1-1.56.94-2.36a3.18 3.18 0 00-.94-2.06 3.18 3.18 0 00-2.06-.94zm-.11 2c.25 0 1.1.86 1.12 1.11.01.26-.04.51-.37.83L6.5 18.1l-2.12.54.53-2.12 12.3-12.3c.33-.33.58-.38.84-.37z"/>
      </symbol> 
      <!-- plus icon -->
      <symbol id="plus-icon" viewBox="0 0 24 24">
        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
      </symbol> 
      <!-- plus circle icon -->
      <symbol id="plus-circle-icon" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="12"></circle><line stroke="#fff" x1="12" y1="8" x2="12" y2="16"></line><line stroke="#fff" x1="8" y1="12" x2="16" y2="12"></line> 
      </symbol> 
      <!-- plus circle fill icon -->
      <symbol id="plus-circle-fill-icon" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="12"/><path stroke="#fff" d="M12 8v8"/><path stroke="#fff" d="M8 12h8"/>
      </symbol> 
      </defs>
    </svg>
    

    <!-- horizontal navbar (contains menu toggle icon + profile account) -->
    <header class="header" id="header">
      <div class="header__toggle">
        <i class='bx bx-menu' id="header-toggle"></i>
      </div>
            
      <div class="dropdown">
        <a class="" id="dropdownUserButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <div class="header__img">
            <img src="../static/img/perfil.jpg" alt="">
          </div>
        </a>

          <div class="dropdown-menu" aria-labelledby="dropdownUserButton">
            <p class="dropdown-item dropdown-title">¡Bienvenido!</p>
            <a class="dropdown-item" style="color: #6c757d" href="#">
              <i class='bx bxs-user-circle'></i>
              <span>Mi cuenta</span>
            </a>
            <!-- <div class="dropdown-divider"></div> -->
            <a class="dropdown-item" href="#" style="color: #6c757d">
              <i class='bx bx-log-out'></i>
              <span>Cerrar Sesión</span>
            </a>
          </div>
      </div>
    </header>
          
    <div id="backdropId" class="backdrop"></div>
        
    <!-- sidebar menu -->
    <div class="sidebar overflow-y-auto" id="sidebar">
      <nav id="nav-tag" class="nav">
        <div> 
          <!--  app name + logo-->
          <a id="brand" href="#" class="nav__logo ">
            <i class='bx bx-layer nav__logo-icon'></i>
            <span id="app__name" class="nav__logo-name">Gestor de Gastos</span>
          </a>
         
          <!-- nav list container-->
          <div class="nav__list">
            <a href="#" class="nav__link active">
              <i class='bx bx-folder nav__icon'></i>
              <span class="link__name">Categorías</span>
            </a>
            
            <a id="newEntity" type="button"
              class="nav__link new-entity" 
              data-bs-toggle="modal"
              data-bs-target="#modal-añadir-categoria"
            >
              <i class='bx bx-plus-circle nav__icon'></i>
              <span class="link__name" style="background-color: transparent;">Crear Categoría</span>
            </a>

            <a href="#" class="nav__link">
              <i class='bx bx-dollar-circle nav__icon'></i>
              <span class="link__name">Gastos</span>
            </a>
                
            <a href="#" class="nav__link">
              <i class='bx bx-user nav__icon'></i>
              <span class="link__name">Users</span>
            </a>
              
            <a href="#" class="nav__link">
              <i class='bx bx-bar-chart-alt-2 nav__icon'></i>
              <span class="link__name">Estadísticas</span>
            </a>
              
            <a href="#" class="nav__link">
              <i class='bx bx-message-square-detail nav__icon'></i>
              <span class="link__name">Recordatorios</span>
            </a>

            <a href="#" class="nav__link">
              <i class='bx bx-money nav__icon'></i>
              <span class="link__name">Moneda</span>
            </a>
            <!-- #logout? -->  
            <a href="#" class="nav__link mb-2">
              <i class='bx bx-log-out nav__icon'></i>
              <span class="link__name">Log Out</span>
            </a>
          </div> <!-- end of nav__list container--> 
        </div> 
      </nav>
    </div> <!-- sidebar end-->

    <!-- content -->
    <main>
      <div class="container-fluid">
        <br>
        <div class="card categoria__container">
          
          <div class="align-items-center d-flex justify-content-between pb-4">
            <h1 class="mt-1 categoria__title">Categorías</h1>
            <div>
              <button
                title="Nueva categoría"
                class="btn btn-add d-flex"
                data-bs-toggle="modal"
                data-bs-target="#modal-añadir-categoria"
                >
                <span id="createNew" class="align-middle mx-1">Crear nueva</span>
                <svg class="svg-icon add" focusable="false"><use xlink:href="#plus-icon"></use></svg>
              </button>
            </div>
          </div>
          <!-- Acá comienza el listado de categorías -->
          <div class="row">
            <div class="col-sm-12">
              <div class="card" style="background-color: hsl(0, 100%, 95%) ; color: hsl(0, 100%, 42%); border: 1.5px solid hsl(0, 100%, 42%)">
                <div class="card-body align-middle align-items-center d-flex justify-content-between">
                  <span class="">Alimentos</span>
                  <div id="actions">
                    <button
                      title="Editar"
                      class="btn btn-table"
                      data-bs-toggle="modal"
                      data-bs-target="#modal-editar-categoria"
                    >
                      <svg class="svg-icon edit"><use xlink:href="#edit-icon"></use></svg>
                    </button>
                    <button
                      title="Eliminar"
                      class="btn btn-table"
                      data-bs-toggle="modal"
                      data-bs-target="#modal-eliminar-categoria"
                    >
                      <svg class="svg-icon remove"><use xlink:href="#delete-icon"></use></svg>
                    </button>
                    <button
                      title="Añadir subcategoría"
                      class="btn btn-table"
                      data-toggle="modal"
                      data-target="#modal-eliminar-categoria"
                    >
                    <svg class="svg-icon plus"><use xlink:href="#plus-circle-fill-icon"></use></svg>
                  </button>
                </div>
              </div> 
            </div> <!-- end card -->
          </div>
        </div> <!-- end row -->

        <!-- otra categoría -->
        <div th:each="cat : ${categorias}" class="row">
          <div class="col-sm-12">
            <!-- <div class="card" th:attr="style=|background-color: hsl(${cat.color.h}, ${cat.color.s}%, 95%); color:hsl(${cat.color.h}, ${cat.color.s}%, ${cat.color.l}%); border: 1.5px solid hsl(${cat.color.h}, ${cat.color.s}%, ${cat.color.l}%)|"> -->
            <div class="card" style="background-color: hsl(163, 90%, 95%); color:hsl(163, 90%, 32%); border: 1.5px solid hsl(163, 90%, 32%)">
                <div class="card-body align-middle align-items-center d-flex justify-content-between">
                  <div>
                    <span class="" th:text="${cat.nombre}">Servicios</span>
                    <!-- collapse subcategorias button -->
                    <!-- <button th:if="${cat.subcategorias.size > 0}"
                      id="btn-collapse-subcategorias"
                      title="Ocultar subcategorías"
                      class="btn btn-table currentColor"
                      type="button"
                      data-bs-toggle="collapse"
                      th:attr="|data-bs-target='#subcategorias_${cat.nombre}'|"
                      aria-expanded="true"
                      aria-controls="collapseSubcategorias"
                    > -->
                    <button id="btn-collapse-subcategorias" title="Ocultar subcategorías" class="btn btn-table currentColor" type="button" data-bs-toggle="collapse" data-bs-target='#subcategorias_Servicios' aria-expanded="true" aria-controls="collapseSubcategorias">
                      <i class='bx bxs-chevron-up'></i>
                    </button>
                  </div>
                  
                  <div id="actions">
                    <button
                    title="Editar"
                    class="btn btn-table"
                    data-toggle="modal"
                    data-target="#modal-editar-categoria"
                    th:attr="onclick=|passDataEditModal('${cat.id}','${cat.nombre}','${cat.color.id}')|"
                    >
                    <svg class="svg-icon edit"><use xlink:href="#edit-icon"></use></svg>
                  </button>
                  <button
                  title="Eliminar"
                  class="btn btn-table"
                  data-toggle="modal"
                  data-target="#modal-eliminar-categoria"
                  th:attr="onclick=|passDataRemoveModal('${cat.id}')|"
                  >
                  <svg class="svg-icon remove"><use xlink:href="#delete-icon"></use></svg>
                </button>
                <button
                    title="Añadir subcategoría"
                    class="btn btn-table"
                    data-toggle="modal"
                    data-target="#modal-añadir-subcategoria"
                    th:attr="onclick=|passDataNewSubcategoriaModal('${cat.id}')|"
                    >
                    <svg class="svg-icon plus"><use xlink:href="#plus-circle-fill-icon"></use></svg>
                  </button>
                </div>
              </div>
                <!-- Subcategorias -->
                <!-- <div th:each="subcat : ${cat}"
                  th:attr="|id='subcategorias_${cat.nombre}'|"
                  class="collapse show subcategorias"
                  th:attr="|aria-labelledby='subcategoria_${cat.nombre}'|"> -->
                  <div id="subcategorias_Servicios" class="collapse show subcategorias" aria-labelledby="headingOne">
                    <hr class="divider">
                    <div class="card-body align-middle align-items-center d-flex justify-content-between">
                      <span th:text="${subcat.nombre}" style="margin-left: 1.1rem;" class="">Luz</span>
                      <div id="actions">
                        <button
                        title="Editar"
                        class="btn btn-table"
                        data-toggle="modal"
                        data-target="#modal-editar-subcategoria"
                        th:attr="onclick=|passDataEditSubcatModal('${cat.id}','${subcat.id}','${subcat.nombre}')|"
                        >
                          <svg class="svg-icon edit"><use xlink:href="#edit-icon"></use></svg>
                        </button>
                        <button
                        title="Eliminar"
                        class="btn btn-table"
                        data-toggle="modal"
                        data-target="#modal-eliminar-subcategoria"
                        th:attr="onclick=|passDataRemoveSubcatModal('${cat.id}','${subcat.id}')|"
                        >
                          <svg class="svg-icon remove"><use xlink:href="#delete-icon"></use></svg>
                        </button>
                    </div>
                  </div>
                  <!-- <hr class="subcategoria-divider"> -->
                  <!-- otra subcategoria -->
                  <div class="card-body align-middle align-items-center d-flex justify-content-between">
                    <span style="margin-left: 1.1rem;" class="">Gas</span>
                    <div id="actions">
                      <button
                        title="Editar"
                        class="btn btn-table"
                        data-toggle="modal"
                        data-target="#modal-editar-categoria-subcategoria"
                      >
                        <svg class="svg-icon edit"><use xlink:href="#edit-icon"></use></svg>
                      </button>
                      <button
                        title="Eliminar"
                        class="btn btn-table"
                        data-toggle="modal"
                        data-target="#modal-eliminar-categoria-subcategoria"
                      >
                        <svg class="svg-icon remove"><use xlink:href="#delete-icon"></use></svg>
                      </button>
                    </div>
                  </div>
                </div> <!-- end subcategorias -->
              </div> <!-- end card -->
            </div>
          </div> <!-- end row -->

		  <!-- otra categoría -->
          <div class="row">
            <div class="col-sm-12">
              <div class="card" style="background-color: hsl(226, 92%, 95%); color:hsl(226, 92%, 49%); border: 1.5px solid hsl(226, 92%, 49%)">
                <div class="card-body align-middle align-items-center d-flex justify-content-between">
                  <span class="">Transporte</span>
                  <div id="actions">
                    <button
                      title="Editar"
                      class="btn btn-table"
                      data-toggle="modal"
                      data-target="#modal-editar-categoria"
                    >
                      <svg class="svg-icon edit"><use xlink:href="#edit-icon"></use></svg>
                    </button>
                    <button
                      title="Eliminar"
                      class="btn btn-table"
                      data-toggle="modal"
                      data-target="#modal-eliminar-categoria"
                    >
                      <svg class="svg-icon remove"><use xlink:href="#delete-icon"></use></svg>
                    </button>
                    <button
                      title="Añadir subcategoría"
                      class="btn btn-table"
                      data-toggle="modal"
                      data-target="#modal-eliminar-categoria"
                    >
                      <svg class="svg-icon plus"><use xlink:href="#plus-circle-fill-icon"></use></svg>
                    </button>
                  </div>
                </div> 
              </div> <!-- end card -->
            </div>
          </div> <!-- end row -->
          
        </div><!-- end categoria container -->
      </div> <!-- end container-fluid -->


    <!------------------------------------->
    <!-- MODALES (CREAR/EDITAR/ELIMINAR) -->
    <!------------------------------------->
    
      <!-- Modal Nueva Categoría -->
      <div class="modal fade" id="modal-añadir-categoria" role="dialog" tabindex="-1" aria-labelledby="modalNuevaCategoria" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalTitle">Crear Categoría</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="alert alert-error d-none" role="alert" id="modal-alert">
                A simple danger alert—check it out!
              </div>
              <form id="createFormCategoria" action="">
                <label class="p-0 mb-1" for="nombre">Nombre</label>
                <div class="form-group">
                  <input
                  id="nombreCreate"
                  type="text"
                  class="form-control"
                  maxlength="35"
                  pattern=".*\S.*"
                  required
                  name="nombre"
                  />
                  <!-- placeholder="Defina un nombre para la nueva categoría" -->
                </div>
                  
                <p class="mt-3">Elige un color distintivo</p>
                <div class="colorPicker mb-3">
                  <input type="radio" name="color" th:value="${color.id}" id="color-red"/>
                  <label style="background-color: hsl(0, 100%, 42%);" for="color-red">rojo</label>
  
                  <input type="radio" name="color" value="orange" id="color-orange"/>
                  <label style="background-color: hsl(33, 100%, 51%);" for="color-orange">naranja</label>
  
                  <input type="radio" name="color" value="green" id="color-emerald"/>
                  <label style="background-color: hsl(163, 90%, 32%);" for="color-emerald">esmeralda</label>

                  <input type="radio" name="color" value="green" id="color-green"/>
                  <label style="background-color: hsl(163, 91%, 43%);" for="color-green">verde</label>
  
                  <input type="radio" name="color" value="turquesa" id="color-turquesa"/>
                  <label style="background-color: hsl(182, 100%, 42%);" for="color-turquesa">turquesa</label>
  
                  <input type="radio" name="color" value="blue" id="color-blue"/>
                  <label style="background-color: hsl(226, 92%, 49%);" for="color-blue">azul</label>

                  <input type="radio" name="color" value="darkblue" id="color-darkblue"/>
                  <label style="background-color: hsl(232, 75%, 25%);" for="color-darkblue">azul&nbsp;marino</label>
  
                  <input type="radio" name="color" value="indigo" id="color-indigo"/>
                  <label style="background-color: hsl(275, 100%, 25%);" for="color-indigo">indigo</label>
  
                  <input type="radio" name="color" value="violet" id="color-violet"/>
                  <label style="background-color: hsl(274, 100%, 50%);" for="color-violet">violeta</label>

                  <input type="radio" name="color" value="pink" id="color-pink"/>
                  <label style="background-color: hsl(322, 81%, 43%);" for="color-pink">rosa</label>
                </div>

              </form>  

            </div>
            <div class="modal-footer d-inline-block">
              <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" form="createForm" class="btn btn-success">Guardar</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Editar Categoría -->
      <div
        class="modal fade"
        id="modal-editar-categoria"
        tabindex="-1"
        role="dialog"
        aria-labelledby="modalEditarCategoríaLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">
                Editar Categoría
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                <!-- <span aria-hidden="true">&times;</span> -->
              </button>
            </div>
            <div class="modal-body">
              <form id="editFormCategoria" action="">
                <label class="p-0 mb-1" for="nombre">Nombre</label>
                <div class="form-group">
                  <input
                  id="nombreEditCategoria"
                  type="text"
                  class="form-control"
                  placeholder="modificar nombre"
                  maxlength="35"
                  pattern=".*\S.*"
                  required
                  name="nombre"
                  />
                </div>
                  
                <p class="mt-3">Elige un color distintivo</p>
                <div class="colorPicker mb-3">
                  <input type="radio" name="color" th:value="${color.id}" id="color-red"/>
                  <label style="background-color: hsl(0, 100%, 42%);" for="color-red">rojo</label>
  
                  <input type="radio" name="color" value="orange" id="color-orange"/>
                  <label style="background-color: hsl(33, 100%, 51%);" for="color-orange">naranja</label>
  
                  <input type="radio" name="color" value="green" id="color-emerald"/>
                  <label style="background-color: hsl(163, 90%, 32%);" for="color-emerald">esmeralda</label>

                  <input type="radio" name="color" value="green" id="color-green"/>
                  <label style="background-color: hsl(163, 91%, 43%);" for="color-green">verde</label>
  
                  <input type="radio" name="color" value="turquesa" id="color-turquesa"/>
                  <label style="background-color: hsl(182, 100%, 42%);" for="color-turquesa">turquesa</label>
  
                  <input type="radio" name="color" value="blue" id="color-blue"/>
                  <label style="background-color: hsl(226, 92%, 49%);" for="color-blue">azul</label>

                  <input type="radio" name="color" value="darkblue" id="color-darkblue"/>
                  <label style="background-color: hsl(232, 75%, 25%);" for="color-darkblue">azul&nbsp;marino</label>
  
                  <input type="radio" name="color" value="indigo" id="color-indigo"/>
                  <label style="background-color: hsl(275, 100%, 25%);" for="color-indigo">indigo</label>
  
                  <input type="radio" name="color" value="violet" id="color-violet"/>
                  <label style="background-color: hsl(274, 100%, 50%);" for="color-violet">violeta</label>

                  <input type="radio" name="color" value="pink" id="color-pink"/>
                  <label style="background-color: hsl(322, 81%, 43%);" for="color-pink">rosa</label>
                </div>

              </form>  

            </div>
            <div class="modal-footer d-inline-block">
              <div class="alert alert-error form-group mx-1 mb-3 d-none" role="alert" id="edit-book-alert">
                A simple danger alert—check it out!
              </div>
              <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" form="createForm" class="btn btn-success">Guardar</button>
              </div>
            </div>
          </div>
        </div>
      </div>

    <!-- Modal (confirmación para eliminar categoría) -->
      <div class="modal fade" id="modal-eliminar-categoria" tabindex="-1" role="dialog" aria-labelledby="ModalRemoveConfirmation" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">
                Eliminar Categoría
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <h4 class="mt-1 mb-3">¿Está seguro que desea eliminar esta categoría?</h4>
                <p>(Se borrarán también sus subcategorías)</p>
            </div>
            <div class="modal-footer d-flex justify-content-between">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">
                  Cancelar
              </button>
              <form id="deleteFormCategoria" method="POST">
                <button type="submit" class="btn btn-danger" id="modal-btn-eliminar">
                  Eliminar Categoría
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

    </main>

    <!--===== BOOTSTRAP JS =====-->
    <script src="../static/js/jquery-3.5.1.min.js"></script>
    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script> -->

    <!--===== MAIN JS =====-->
    <script src="../static/js/sidebar.js"></script>
	<script>
      // $(document).ready(function(){
      //    $("#color-red").prop("checked", true);
      //   $("#nombreEdit").val('Alimentos');
      // });

      $("#btn-collapse-subcategorias").on('click', function(){
        $(".divider").toggleClass('d-none');
       ($(this).prop('title') == 'Ocultar subcategorías') ? $(this).prop('title','Mostrar subcategorías') : $(this).prop('title','Ocultar subcategorías')
      });
      
      // * Need to pass the data needed to modals & define the specific form actions
      // para las categorias
      function passDataEditModal(categoriaId, nombre){
          $('#editFormCategoria').attr('action','/categorias/modificar/' + categoriaId );

          $('#nombreEditCategoria').val(nombre);
      }
      function passDataRemoveModal(categoriaId){
        $('#deleteForm').attr('action','/categorias/eliminar/' + categoriaId );
      }
      // para las subcategorias
      function passDataEditSubcatModal(categoriaId, subcategoriaId, nombre){
          $('#editFormSubategoria').attr('action','/categorias/modificar/' + categoriaId ); // definir bien

          $('#nombreEditSubcategoria').val(nombre);
      }
      function passDataRemoveSubcatModal(categoriaId, subcategoriaId){
        $('#deleteForm').attr('action','/categorias/eliminar/' + categoriaId ); // definir bien
      }
    </script>
	
  <script>
    //Floating labels & styling of input fields based on its validity
    $(document).ready(function() {
        
    //     let formSelects = $('.form-group select');
    // //    let formSelects = $('#modal-add-book select');
        
    //     formSelects.each(function(){
    //         let select = $(this);
    
    //         select.change( () => {
    //             let options = select.find('option');
    //             let label = select.next();
    
    //             label.addClass('floating-label');
    //             select.removeClass("invalid");
    //             select.addClass("valid");
            
    //             options.each(function() {
    //                 if(this.selected && this.value === ""){
    //                     label.removeClass('floating-label');
    //                     select.removeClass("valid");
    //                     select.addClass("invalid");
    //                 }
    //             });        
    //         });
    //     }); 
    
       
      let formInputContainers = $('.form-group');
      
      formInputContainers.each(function() {
        let inputContainer = $(this);
        let input = inputContainer.find('input');
        let label = inputContainer.find('label');
        
        function checkInput() {
            
          let valueLength = input.val().length;
          
          if (valueLength > 0 ) { label.addClass('floating-label'); } 
          else                  { label.removeClass('floating-label'); }
          
          if ( input.is(":valid")){
              input.removeClass("invalid");
              input.addClass("valid");
          }else{
              input.removeClass("valid");
              input.addClass("invalid");
          }
        }
        
        input.change(() => checkInput());
      });
    });
    </script>

  </body>
</html>